<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <title>RB Visual Editor</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/interactjs/dist/interact.min.js"></script>
</head>
<body>
    <div class="app-container">
        <div class="template-pane">
            <h3>Mẫu Layout</h3>
            <div id="template-list"></div>
            <div class="save-template-group">
                <input type="text" id="template-name-input" placeholder="Nhập tên mẫu để lưu...">
                <button id="saveTemplateButton">Lưu</button>
            </div>
        </div>

        <div class="editor-pane">
            <div id="canvas-container">
                <div id="editor-canvas">
                    <div id="video-placeholder" class="edit-item" data-type="video"><p>VIDEO CHÍNH</p></div>
                    <div id="thumbnail-placeholder" class="edit-item" data-type="thumbnail"><p>THUMBNAIL</p></div>
                    <div id="text-placeholder" class="edit-item text-item" data-type="text"><p>Part ...</p></div>
                </div>
            </div>
        </div>

        <div class="controls-pane">
            <h2>Bảng điều khiển</h2>
            <div class="control-group">
                <label for="youtube-url">Link YouTube:</label>
                <input type="text" id="youtube-url" placeholder="Dán link video vào đây...">
            </div>
            <div class="control-group">
                <label for="part-duration">Thời lượng mỗi phần (giây):</label>
                <input type="number" id="part-duration" value="120" min="1">
            </div>
             <div class="control-group">
                <label for="parts-input">Số phần tối đa:</label>
                <input type="number" id="parts-input" value="10" min="1">
            </div>
            <div class="control-group">
                <label for="save-path-input">Lưu vào thư mục:</label>
                <div class="input-group">
                    <input type="text" id="save-path-input" placeholder="Mặc định là thư mục 'output'" readonly>
                    <button id="browseButton">Chọn</button>
                </div>
            </div>
            <div class="control-group">
                <button id="addImageButton">Thêm Ảnh / Sticker</button>
            </div>
            <hr>
            <div class="control-group">
                <button id="runButton">BẮT ĐẦU RENDER VIDEO</button>
            </div>
            <div class="log-container">
                <div class="log-header">
                    <h3>Nhật ký xử lý:</h3>
                    <button id="enlargeLogButton" class="inline-button">Phóng to</button>
                </div>
                <pre id="log-output"></pre>
            </div>
            <div id="results-container">
                 <div id="video-list"></div>
                 <button id="newProjectButton" class="hidden">Bắt đầu Project Mới</button>
            </div>
        </div>
    </div>
    
    <input type="color" id="hidden-font-color-picker" class="hidden">
    <input type="color" id="hidden-box-color-picker" class="hidden">
    <input type="color" id="hidden-shadow-color-picker" class="hidden">
    
    <div id="log-modal" class="modal-overlay hidden">
        <div class="modal-content">
            <h3>Nhật ký xử lý chi tiết</h3>
            <pre id="modal-log-output"></pre>
            <button id="closeModalButton">Đóng</button>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>